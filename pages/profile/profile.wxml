<!--pages/profile/profile.wxml-->
<view class="profile-page">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-section">
    <view class="user-info" wx:if="{{userInfo}}">
      <image class="user-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="user-name">{{userInfo.nickName}}</text>
        <text class="user-desc">æ¬¢è¿ä½¿ç”¨ç”µå­èœå•</text>
        <view class="user-badge" wx:if="{{isAdmin}}">
          <text>ğŸ‘‘ ç®¡ç†å‘˜</text>
        </view>
      </view>
    </view>
    <view class="user-info" wx:else>
      <view class="user-avatar default-avatar">ğŸ‘¤</view>
      <view class="user-details">
        <text class="user-name">æœªç™»å½•</text>
        <view class="login-btn" bindtap="getUserInfo">
          <text>ç‚¹å‡»ç™»å½•</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-section">
    <text class="section-title">æ•°æ®ç»Ÿè®¡</text>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{stats.recipeCount}}</text>
        <text class="stat-label">èœè°±æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.orderCount}}</text>
        <text class="stat-label">è®¢å•æ€»æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.pendingOrderCount}}</text>
        <text class="stat-label">å¾…å¤„ç†</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.completedOrderCount}}</text>
        <text class="stat-label">å·²å®Œæˆ</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <!-- ç®¡ç†åå°å…¥å£ï¼ˆä»…ç®¡ç†å‘˜å¯è§ï¼‰ -->
    <view class="menu-item admin-item" bindtap="goToAdmin" wx:if="{{isAdmin}}">
      <view class="menu-left">
        <text class="menu-icon">ğŸ‘‘</text>
        <text class="menu-text">ç®¡ç†åå°</text>
        <text class="menu-desc">ç®¡ç†å‘˜ä¸“ç”¨åŠŸèƒ½</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item" bindtap="goToSettings">
      <view class="menu-left">
        <text class="menu-icon">âš™ï¸</text>
        <text class="menu-text">åº—é“ºè®¾ç½®</text>
        <text class="menu-desc">ç®¡ç†å¨æˆ¿ã€ç®¡ç†å‘˜</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item" bindtap="goToCategoryList" wx:if="{{isAdmin}}">
      <view class="menu-left">
        <text class="menu-icon">ğŸ·ï¸</text>
        <text class="menu-text">åˆ†ç±»ç®¡ç†</text>
        <text class="menu-desc">ç®¡ç†èœè°±åˆ†ç±»</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item" bindtap="exportData">
      <view class="menu-left">
        <text class="menu-icon">ğŸ“¤</text>
        <text class="menu-text">å¯¼å‡ºæ•°æ®</text>
        <text class="menu-desc">æ”¯æŒå¯¼å‡ºå…¨éƒ¨æˆ–ä»…èœè°±</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item" bindtap="importData">
      <view class="menu-left">
        <text class="menu-icon">ğŸ“¥</text>
        <text class="menu-text">å¯¼å…¥æ•°æ®</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item danger" bindtap="clearData">
      <view class="menu-left">
        <text class="menu-icon">ğŸ—‘ï¸</text>
        <text class="menu-text">æ¸…ç©ºæ•°æ®</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- è´¦å·ç®¡ç† -->
  <view class="menu-section" wx:if="{{userInfo}}">
    <view class="menu-item" bindtap="switchAccount">
      <view class="menu-left">
        <text class="menu-icon">ğŸ”„</text>
        <text class="menu-text">æ›´æ¢è´¦å·</text>
        <text class="menu-desc">é‡æ–°ç™»å½•</text>
      </view>
      <text class="menu-arrow">></text>
    </view>

    <view class="menu-item danger" bindtap="logout">
      <view class="menu-left">
        <text class="menu-icon">ğŸšª</text>
        <text class="menu-text">é€€å‡ºç™»å½•</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>
</view>
