<!--pages/admin/recipe-manage/recipe-manage.wxml-->
<view class="recipe-manage-page">
  <!-- æœç´¢å’Œåˆ†ç±» -->
  <view class="filter-section">
    <view class="search-box">
      <input 
        class="search-input" 
        placeholder="æœç´¢èœè°±åç§°" 
        value="{{searchKeyword}}"
        bindinput="onSearchInput" />
    </view>
    
    <scroll-view class="category-scroll" scroll-x>
      <view class="category-list">
        <view 
          class="category-item {{selectedCategory === 'all' ? 'active' : ''}}"
          data-id="all"
          bindtap="selectCategory">
          <text>å…¨éƒ¨</text>
        </view>
        <view 
          class="category-item {{selectedCategory === item.id ? 'active' : ''}}"
          wx:for="{{categories}}"
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="selectCategory">
          <text>{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- èœè°±åˆ—è¡¨ -->
  <view class="recipe-list">
    <view 
      class="recipe-card"
      wx:for="{{recipes}}"
      wx:key="id"
      wx:if="{{selectedCategory === 'all' || item.categoryId === selectedCategory}}">
      
      <image 
        class="recipe-image"
        src="{{item.image || '/images/default-recipe.png'}}"
        mode="aspectFill"
        bindtap="viewDetail"
        data-id="{{item.id}}">
      </image>
      
      <view class="recipe-info">
        <view class="info-header">
          <text class="recipe-name">{{item.name}}</text>
          <text class="recipe-category">{{item.categoryName}}</text>
        </view>
        
        <view class="info-meta">
          <text class="meta-item">Â¥{{item.price || 0}}</text>
          <text class="meta-item">â­ {{item.rating || 0}}</text>
          <text class="meta-item" wx:if="{{item.isMustHave}}">å¿…ç‚¹</text>
        </view>
        
        <view class="info-actions">
          <view class="action-btn edit" bindtap="editRecipe" data-id="{{item.id}}">
            <text>ç¼–è¾‘</text>
          </view>
          <view class="action-btn delete" bindtap="deleteRecipe" data-id="{{item.id}}">
            <text>åˆ é™¤</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{recipes.length === 0}}">
      <text class="empty-icon">ğŸ“–</text>
      <text class="empty-text">æš‚æ— èœè°±</text>
      <text class="empty-tip">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ èœè°±</text>
    </view>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button" bindtap="addRecipe">
    <text>+ æ·»åŠ èœè°±</text>
  </view>
</view>
