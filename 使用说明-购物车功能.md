# 购物车功能使用说明

## 📋 功能简介

购物车功能让你可以查看已选择的菜品，调整数量，最后统一下单。提供了便捷的商品管理和结算流程。

## 🎯 主要功能

### 1. 查看购物车
- 显示所有已添加的菜品
- 展示菜品图片、名称、单价
- 实时显示数量和小计
- 底部显示总价和总数量

### 2. 调整数量
- **增加数量**：点击 + 号按钮
- **减少数量**：点击 - 号按钮
- **删除商品**：当数量为1时点击 - 号，会提示确认删除

### 3. 管理购物车
- **清空购物车**：点击右上角"清空"按钮
- **删除单个商品**：减少数量至0时确认删除
- **查看菜谱详情**：点击菜品图片

### 4. 下单结算
- 点击底部"去下单"按钮
- 输入订单备注（可选）
- 确认下单

## 📍 使用方法

### 进入购物车

有两种方式进入购物车页面：

#### 方式1：从首页进入
1. 在首页（厨房页面）添加菜品
2. 点击底部的"🛒 下单"按钮
3. 自动跳转到购物车页面

#### 方式2：添加菜品后提示
1. 添加菜品成功后，会显示"已加入购物车"
2. 购物车图标数字会增加
3. 点击购物车按钮进入

### 增加商品数量

```
1. 在购物车列表中找到商品
2. 点击商品右侧的 + 号按钮
3. 数量立即增加1
4. 小计和总价自动更新
```

### 减少商品数量

```
1. 在购物车列表中找到商品
2. 点击商品右侧的 - 号按钮
3. 如果数量大于1，数量减少1
4. 如果数量等于1，弹出删除确认
```

### 删除商品

#### 方法1：通过减少数量删除
```
1. 点击 - 号直到数量为1
2. 再次点击 - 号
3. 确认删除提示
4. 商品从购物车移除
```

#### 方法2：清空购物车
```
1. 点击右上角"清空"按钮
2. 确认清空操作
3. 所有商品被移除
```

### 下单流程

```
1. 确认购物车中的商品和数量
2. 点击底部"去下单"按钮
3. 在弹出框中输入备注（可选）
4. 点击"确定"完成下单
5. 系统提示"下单成功"
6. 购物车自动清空
7. 自动返回首页
```

## 💡 界面说明

### 购物车页面布局

```
┌─────────────────────────┐
│ ← 购物车        [清空]   │ 头部
├─────────────────────────┤
│ [图] 宫保鸡丁    ¥18    │
│      单价: ¥18          │
│               [-] 2 [+] │
│               ¥36.00    │ 商品1
├─────────────────────────┤
│ [图] 麻婆豆腐    ¥12    │
│      单价: ¥12          │
│               [-] 1 [+] │
│               ¥12.00    │ 商品2
├─────────────────────────┤
│                         │
│ 合计: ¥48.00 共3件      │
│            [去下单]      │ 底部结算栏
└─────────────────────────┘
```

### 元素说明

#### 商品卡片
- **左侧**：菜品图片（可点击查看详情）
- **中间**：菜品名称和单价
- **右侧**：数量控制和小计

#### 数量控制
- **- 按钮**：减少数量（灰色圆形）
- **数字**：当前数量（居中显示）
- **+ 按钮**：增加数量（灰色圆形）

#### 底部结算栏
- **合计**：显示总价（紫色大字）
- **数量**：显示总件数
- **去下单**：紫色按钮

### 空状态

当购物车为空时：
```
┌─────────────────────────┐
│                         │
│         🛒              │
│    购物车是空的          │
│  快去添加喜欢的菜品吧    │
│                         │
│      [去选菜]           │
│                         │
└─────────────────────────┘
```

## 🎨 交互细节

### 1. 数量调整
- 点击按钮有视觉反馈
- 数量和价格实时更新
- 总价自动重新计算

### 2. 删除确认
- 最后一件商品删除需要确认
- 防止误操作
- 显示被删除的商品名称

### 3. 清空确认
- 清空购物车需要确认
- 避免误删所有商品

### 4. 下单反馈
- 下单成功显示提示
- 2秒后自动返回首页
- 购物车数字归零

## 💰 价格计算

### 单个商品小计
```
小计 = 单价 × 数量
```

### 购物车总价
```
总价 = Σ(每个商品的小计)
```

### 总数量
```
总数量 = Σ(每个商品的数量)
```

## 📝 注意事项

### 1. 数据持久化
- 购物车数据保存在本地存储
- 关闭小程序不会丢失
- 切换厨房会清空购物车

### 2. 厨房隔离
- 每个厨房的购物车独立
- 切换厨房时会清空当前购物车
- 避免不同厨房的菜品混合

### 3. 下单后
- 购物车自动清空
- 订单保存到订单列表
- 可在"订单"页面查看

### 4. 数量限制
- 最小数量：1
- 没有最大数量限制
- 可根据需要自由调整

## ⚠️ 常见问题

### Q1: 如何修改已添加商品的数量？

**答案**：
1. 进入购物车页面
2. 找到要修改的商品
3. 使用 + 或 - 按钮调整数量
4. 价格自动更新

### Q2: 可以同时下单不同厨房的菜吗？

**答案**：不可以。
- 购物车只能包含同一个厨房的菜品
- 切换厨房时购物车会自动清空
- 需要先完成当前厨房的订单

### Q3: 误操作添加了很多怎么办？

**答案**：
- **方法1**：点击 - 号逐个减少
- **方法2**：点击右上角"清空"按钮一次清空所有

### Q4: 下单后发现数量错了怎么办？

**答案**：
- 下单后无法修改
- 可以在订单列表中查看订单
- 管理员可以处理订单状态

### Q5: 购物车数据会丢失吗？

**答案**：不会。
- 数据保存在本地存储
- 关闭小程序再打开仍然存在
- 只有下单或清空才会清除

## 🎯 使用技巧

### 技巧1：批量添加
```
1. 在首页快速添加多个菜品
2. 统一进入购物车调整数量
3. 一次性下单
```

### 技巧2：查看详情
```
1. 在购物车中点击菜品图片
2. 查看完整的菜谱信息
3. 了解制作方法和难度
```

### 技巧3：添加备注
```
1. 下单时可以添加备注
2. 例如：少盐、微辣等
3. 厨师可以看到备注
```

### 技巧4：快速清空
```
1. 如果要重新选择
2. 点击"清空"按钮
3. 快速清空所有商品
```

## 📊 使用示例

### 示例1：家庭晚餐下单

```
1. 首页添加：宫保鸡丁 × 1
2. 首页添加：麻婆豆腐 × 1
3. 首页添加：米饭 × 2
4. 点击"下单"进入购物车
5. 查看总价：¥48.00
6. 点击"去下单"
7. 备注：晚上7点开始做
8. 确认下单
```

### 示例2：修改数量后下单

```
1. 购物车中有：红烧肉 × 1
2. 觉得不够，点击 + 号
3. 数量变为 2，价格更新
4. 再添加：青菜 × 1
5. 确认总价无误
6. 点击"去下单"完成
```

### 示例3：删除不想要的菜

```
1. 购物车中有多个商品
2. 发现某个菜不想要了
3. 点击该商品的 - 号
4. 数量变为0时确认删除
5. 商品从列表移除
6. 继续选择其他菜
```

## 🔧 技术特点

- **实时计算**：数量变化立即更新价格
- **数据同步**：购物车数字实时显示
- **交互友好**：清晰的视觉反馈
- **防误操作**：重要操作有确认提示
- **数据隔离**：不同厨房购物车独立

## 🎉 总结

购物车功能让点餐变得更加灵活：

- ✅ 自由添加和删除商品
- ✅ 灵活调整数量
- ✅ 清晰查看总价
- ✅ 方便的结算流程
- ✅ 数据安全可靠

通过购物车，你可以从容地选择菜品，调整数量，最后统一下单！
