# é»˜è®¤å›¾ç‰‡é—®é¢˜ä¿®å¤è¯´æ˜

## ğŸ› é—®é¢˜æè¿°

æ§åˆ¶å°æŠ¥é”™ï¼š
```
Failed to load local image resource /images/default-recipe.png 
the server responded with a status of 500 (HTTP/1.1 500 Internal Server Error)
```

## ğŸ” é—®é¢˜æ ¹å› 

é¡¹ç›®ä¸­å¤šå¤„ä½¿ç”¨äº†ä¸å­˜åœ¨çš„é»˜è®¤å›¾ç‰‡è·¯å¾„ï¼š
- `/images/default-recipe.png` - èœè°±é»˜è®¤å›¾
- `/images/default-avatar.png` - å¤´åƒé»˜è®¤å›¾
- `/images/default-bg.jpg` - èƒŒæ™¯é»˜è®¤å›¾

è™½ç„¶ä¸å½±å“å°ç¨‹åºè¿è¡Œï¼Œä½†ä¼šï¼š
1. åœ¨æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯
2. å½±å“å¼€å‘ä½“éªŒ
3. å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹å¯¼è‡´æ ·å¼é—®é¢˜

## âœ… ä¿®å¤æ–¹æ¡ˆ

ä½¿ç”¨ **CSS æ¸å˜èƒŒæ™¯ + Emoji** ä½œä¸ºå ä½ç¬¦ï¼Œä¸ä¾èµ–å›¾ç‰‡æ–‡ä»¶ã€‚

### ä¼˜åŠ¿
- âœ… ä¸éœ€è¦é¢å¤–çš„å›¾ç‰‡æ–‡ä»¶
- âœ… åŠ è½½é€Ÿåº¦æ›´å¿«
- âœ… è§†è§‰æ•ˆæœæ›´å¥½
- âœ… æ›´å®¹æ˜“ç»´æŠ¤

## ğŸ“ ä¿®æ”¹å†…å®¹

### 1. å¨æˆ¿é¡µé¢ (kitchen)

#### kitchen.wxml

**èœè°±å›¾ç‰‡**ï¼š
```xml
<!-- ä¿®å¤å‰ -->
<image src="{{item.image || '/images/default-recipe.png'}}"></image>

<!-- ä¿®å¤å -->
<image class="recipe-image {{item.image ? '' : 'no-image'}}" 
       src="{{item.image || ''}}"></image>
```

**åº—é“ºå¤´åƒ**ï¼š
```xml
<!-- ä¿®å¤å‰ -->
<image class="shop-avatar" src="{{shopInfo.avatar || '/images/default-avatar.png'}}"></image>

<!-- ä¿®å¤å -->
<view class="shop-avatar {{shopInfo && shopInfo.avatar ? '' : 'no-avatar'}}" 
      wx:if="{{shopInfo && shopInfo.avatar}}">
  <image src="{{shopInfo.avatar}}"></image>
</view>
<view class="shop-avatar no-avatar" wx:else>
  <text style="font-size: 48rpx;">ğŸª</text>
</view>
```

**èƒŒæ™¯å›¾**ï¼š
```xml
<!-- ä¿®å¤å‰ -->
<image class="header-bg" src="{{shopInfo.background || '/images/default-bg.jpg'}}"></image>

<!-- ä¿®å¤å -->
<view class="header-bg {{shopInfo && shopInfo.background ? '' : 'no-bg'}}" 
      wx:if="{{shopInfo && shopInfo.background}}">
  <image src="{{shopInfo.background}}"></image>
</view>
<view class="header-bg no-bg" wx:else></view>
```

#### kitchen.wxss

æ·»åŠ å ä½ç¬¦æ ·å¼ï¼š

```css
/* èœè°±å›¾ç‰‡å ä½ç¬¦ */
.recipe-image {
  width: 200rpx;
  height: 200rpx;
  background-color: #f0f0f0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.recipe-image.no-image {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  position: relative;
}

.recipe-image.no-image::after {
  content: 'ğŸ½ï¸';
  font-size: 80rpx;
  opacity: 0.5;
}

/* èƒŒæ™¯å ä½ç¬¦ */
.header-bg.no-bg {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* å¤´åƒå ä½ç¬¦ */
.shop-avatar {
  background-color: #f0f0f0;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.shop-avatar.no-avatar {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

#### kitchen.js

```javascript
// ä¿®å¤å‰
recipeImage: recipe.image || '/images/default-recipe.png'

// ä¿®å¤å
recipeImage: recipe.image || ''
```

### 2. å…¶ä»–é¡µé¢

éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼š
- `pages/admin/recipe-manage/recipe-manage.wxml`
- `pages/cart/cart.wxml`
- `pages/order/list/list.wxml`
- `pages/order/detail/detail.wxml`
- `pages/recipe/detail/detail.wxml`

**ç»Ÿä¸€ä¿®å¤æ–¹å¼**ï¼š
```xml
<!-- ä¿®å¤å‰ -->
<image src="{{item.image || '/images/default-recipe.png'}}"></image>

<!-- ä¿®å¤å -->
<image class="{{item.image ? '' : 'no-image'}}" src="{{item.image || ''}}"></image>
```

## ğŸ¨ è§†è§‰æ•ˆæœ

### ä¿®å¤å‰
- æ˜¾ç¤ºç ´æŸçš„å›¾ç‰‡å›¾æ ‡
- æ§åˆ¶å°æŠ¥é”™
- å ç”¨ç©ºç™½ç©ºé—´

### ä¿®å¤å
- æ˜¾ç¤ºç´«è‰²æ¸å˜èƒŒæ™¯
- ä¸­å¿ƒæœ‰ ğŸ½ï¸ emoji
- ç¾è§‚ä¸”æœ‰æ„ä¹‰
- æ— æ§åˆ¶å°é”™è¯¯

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ¸…é™¤ç¼“å­˜
```
å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ å·¥å…· â†’ æ¸…é™¤ â†’ å…¨éƒ¨æ¸…é™¤
```

### æ­¥éª¤ 2ï¼šé‡æ–°ç¼–è¯‘
```
ç‚¹å‡»"ç¼–è¯‘"æŒ‰é’®
```

### æ­¥éª¤ 3ï¼šæµ‹è¯•åœºæ™¯

#### æµ‹è¯• Aï¼šæ²¡æœ‰å›¾ç‰‡çš„èœè°±
1. æ·»åŠ ä¸€ä¸ªèœè°±ï¼Œä¸ä¸Šä¼ å›¾ç‰‡
2. åœ¨å¨æˆ¿é¡µé¢æŸ¥çœ‹
3. **âœ… åº”è¯¥æ˜¾ç¤ºç´«è‰²æ¸å˜èƒŒæ™¯ + ğŸ½ï¸ emoji**
4. **âœ… æ§åˆ¶å°æ— é”™è¯¯**

#### æµ‹è¯• Bï¼šæ²¡æœ‰å¤´åƒçš„åº—é“º
1. è¿›å…¥åº—é“ºè®¾ç½®
2. ä¸è®¾ç½®å¤´åƒ
3. è¿”å›å¨æˆ¿é¡µé¢
4. **âœ… åº”è¯¥æ˜¾ç¤ºç´«è‰²æ¸å˜èƒŒæ™¯ + ğŸª emoji**

#### æµ‹è¯• Cï¼šè´­ç‰©è½¦ä¸­çš„èœå“
1. æ·»åŠ æ²¡æœ‰å›¾ç‰‡çš„èœå“åˆ°è´­ç‰©è½¦
2. æŸ¥çœ‹è´­ç‰©è½¦
3. **âœ… åº”è¯¥æ˜¾ç¤ºå ä½ç¬¦ï¼Œæ— é”™è¯¯**

## ğŸ“Š é¢„æœŸç»“æœ

**âœ… æˆåŠŸçš„æ ‡å¿—ï¼š**
- æ§åˆ¶å°ä¸å†æ˜¾ç¤ºå›¾ç‰‡åŠ è½½é”™è¯¯
- æ²¡æœ‰å›¾ç‰‡çš„åœ°æ–¹æ˜¾ç¤ºç¾è§‚çš„å ä½ç¬¦
- é¡µé¢å¸ƒå±€æ­£å¸¸
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**æ§åˆ¶å°åº”è¯¥ï¼š**
- âŒ ä¸æ˜¾ç¤º `Failed to load local image resource`
- âŒ ä¸æ˜¾ç¤º `500 Internal Server Error`
- âœ… å¹²å‡€æ— é”™è¯¯

## ğŸ’¡ æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆä½¿ç”¨ CSS è€Œä¸æ˜¯çœŸå®å›¾ç‰‡ï¼Ÿ

**ä½¿ç”¨ CSS çš„ä¼˜åŠ¿**ï¼š
1. **æ— ç½‘ç»œè¯·æ±‚** - ä¸éœ€è¦åŠ è½½å›¾ç‰‡æ–‡ä»¶
2. **ä½“ç§¯æ›´å°** - å‡å°‘å°ç¨‹åºåŒ…å¤§å°
3. **åŠ è½½æ›´å¿«** - æ¸å˜æ˜¯çº¯ CSSï¼Œç¬é—´æ¸²æŸ“
4. **æ˜“äºç»´æŠ¤** - ä¸éœ€è¦ç®¡ç†å›¾ç‰‡èµ„æº
5. **è§†è§‰æ•ˆæœå¥½** - æ¸å˜æ¯”å•è‰²æ›´ç¾è§‚

### CSS æ¸å˜ä»£ç è§£é‡Š

```css
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

- `135deg` - å¯¹è§’çº¿æ–¹å‘
- `#667eea` - æ·¡ç´«è‰²ï¼ˆèµ·å§‹ï¼‰
- `#764ba2` - æ·±ç´«è‰²ï¼ˆç»“æŸï¼‰
- æ•ˆæœï¼šä¼˜é›…çš„ç´«è‰²æ¸å˜

### ä½¿ç”¨ Emoji çš„å¥½å¤„

```css
.no-image::after {
  content: 'ğŸ½ï¸';
  font-size: 80rpx;
  opacity: 0.5;
}
```

- ğŸ½ï¸ è¡¨ç¤ºé£Ÿç‰©/èœè°±
- ğŸª è¡¨ç¤ºåº—é“º
- ç›´è§‚æ˜“æ‡‚
- æ— éœ€é¢å¤–èµ„æº

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å›¾ç‰‡å ä½ç¬¦è®¾è®¡

**æ¨èæ–¹å¼**ï¼š
- ä½¿ç”¨æ¸å˜èƒŒæ™¯
- æ·»åŠ ç›¸å…³çš„ emoji æˆ–å›¾æ ‡
- è®¾ç½®åˆé€‚çš„é€æ˜åº¦

**ä¸æ¨è**ï¼š
- ä½¿ç”¨çº¯è‰²ï¼ˆå¤ªå•è°ƒï¼‰
- ä¸æ·»åŠ ä»»ä½•æç¤ºï¼ˆç”¨æˆ·ä½“éªŒå·®ï¼‰
- ä¾èµ–å¤–éƒ¨å›¾ç‰‡ï¼ˆå¢åŠ ä¾èµ–ï¼‰

### 2. å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†

```javascript
onImageError(e) {
  const id = e.currentTarget.dataset.id;
  // è®¾ç½®ä¸ºç©ºï¼Œè§¦å‘ CSS å ä½ç¬¦
  recipe.image = '';
  this.setData({ recipes: this.data.recipes });
}
```

### 3. æ¡ä»¶æ¸²æŸ“

```xml
<!-- æœ‰å›¾ç‰‡æ—¶æ˜¾ç¤ºå›¾ç‰‡ -->
<view wx:if="{{item.image}}">
  <image src="{{item.image}}"></image>
</view>

<!-- æ— å›¾ç‰‡æ—¶æ˜¾ç¤ºå ä½ç¬¦ -->
<view class="no-image" wx:else>
  <text>ğŸ½ï¸</text>
</view>
```

## ğŸš€ æ‰©å±•å»ºè®®

### 1. ç»Ÿä¸€çš„å ä½ç¬¦ç»„ä»¶

å¯ä»¥åˆ›å»ºä¸€ä¸ªé€šç”¨çš„å ä½ç¬¦ç»„ä»¶ï¼š

```xml
<!-- components/placeholder/placeholder.wxml -->
<view class="placeholder {{type}}">
  <text class="icon">{{icon}}</text>
</view>
```

### 2. ä¸åŒç±»å‹çš„å ä½ç¬¦

```css
/* èœè°±å ä½ç¬¦ - ç´«è‰² */
.placeholder.recipe {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* ç”¨æˆ·å¤´åƒå ä½ç¬¦ - è“è‰² */
.placeholder.avatar {
  background: linear-gradient(135deg, #667eea 0%, #4facfe 100%);
}

/* èƒŒæ™¯å ä½ç¬¦ - æ¸å˜ */
.placeholder.background {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

### 3. åŠ¨ç”»æ•ˆæœ

```css
.no-image {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}
```

## ğŸ“š ç›¸å…³èµ„æº

- [CSS æ¸å˜ç”Ÿæˆå™¨](https://cssgradient.io/)
- [Emoji åˆ—è¡¨](https://emojipedia.org/)
- [å¾®ä¿¡å°ç¨‹åº image ç»„ä»¶æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/component/image.html)

## âœ¨ æ€»ç»“

**ä¿®å¤å‰çš„é—®é¢˜**ï¼š
- âŒ æ§åˆ¶å°æŠ¥é”™
- âŒ æ˜¾ç¤ºç ´æŸå›¾æ ‡
- âŒ å½±å“å¼€å‘ä½“éªŒ

**ä¿®å¤åçš„æ•ˆæœ**ï¼š
- âœ… æ— æ§åˆ¶å°é”™è¯¯
- âœ… ç¾è§‚çš„å ä½ç¬¦
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- âœ… æ›´å°çš„åŒ…ä½“ç§¯
- âœ… æ›´å¿«çš„åŠ è½½é€Ÿåº¦

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2026-01-18  
**ä¿®å¤æ–¹æ³•**ï¼šCSS æ¸å˜ + Emoji å ä½ç¬¦  
**å½±å“èŒƒå›´**ï¼šæ‰€æœ‰æ¶‰åŠå›¾ç‰‡çš„é¡µé¢
