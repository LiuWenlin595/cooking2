# 电子菜单小程序使用说明（简化版）

## 🎯 核心概念

### 登录机制
- 所有用户通过微信授权登录（wx.login + wx.getUserProfile）
- 使用**微信昵称**作为唯一标识
- 无需生成二维码或扫码

### 权限系统
- **普通用户**：可以浏览菜谱、添加购物车、下单
- **管理员**：拥有所有普通用户权限 + 管理菜谱、处理订单等

## 📱 基本使用

### 1. 登录
```
1. 打开小程序
2. 点击底部"我的"
3. 点击"点击登录"
4. 授权获取微信信息
5. 登录成功
```

**首次使用**：第一个登录的用户自动成为管理员

### 2. 浏览和点餐（所有用户）
```
1. 在首页浏览菜谱
2. 点击分类筛选
3. 点击"+"添加到购物车
4. 点击购物车图标查看
5. 调整数量
6. 点击"去下单"
7. 输入备注（可选）
8. 确认下单
```

### 3. 管理菜谱（仅管理员）
```
1. 首页点击"添加菜谱"
   或：我的 → 管理后台 → 菜谱管理
2. 填写菜谱信息
3. 上传图片
4. 保存
```

### 4. 添加管理员
```
操作者：现有管理员

步骤：
1. 我的 → 店铺设置 → 管理厨房
2. 选择厨房，点击"管理员"
3. 点击"添加管理员"
4. 输入要添加的用户的微信昵称
5. 确认添加

重要：
- 需要知道对方的微信昵称
- 可以让对方告诉你昵称
- 或查看对方微信个人资料
```

## ⚠️ 重要说明

### 关于微信昵称

**作为唯一标识**：
- 微信昵称用于识别用户身份
- 管理员权限基于昵称匹配
- 请不要频繁更改微信昵称

**昵称冲突**：
- 理论上可能有重名
- 但家庭/情侣使用场景，人数少，冲突概率极低
- 如遇冲突，可让一方暂时修改昵称

**更改昵称的影响**：
- 如果你是管理员，更改昵称后会失去权限
- 需要其他管理员重新添加新昵称

### 添加管理员示例

**场景**：张三想把李四添加为管理员

```
1. 李四登录小程序（获得微信昵称，例如"李四"）
2. 李四告诉张三："我的微信昵称是'李四'"
3. 张三（管理员）：
   - 进入：我的 → 店铺设置 → 管理厨房
   - 选择厨房 → 管理员 → 添加管理员
   - 输入"李四"
   - 确认添加
4. 李四下次进入小程序，自动拥有管理员权限
```

## 💡 常见问题

### Q1: 为什么要输入微信昵称？
**A**: 因为小程序是纯前端，没有后端服务器，无法获取真正的微信openid，所以使用昵称作为标识。对于家庭/情侣使用场景完全够用。

### Q2: 如何查看自己的微信昵称？
**A**: 
- 打开微信
- 点击右下角"我"
- 点击头像
- 查看昵称

### Q3: 添加管理员时必须输入完整昵称吗？
**A**: 是的，必须完全一致，包括空格、符号等。

### Q4: 可以添加还没登录过小程序的人为管理员吗？
**A**: 可以。先添加昵称到管理员列表，当那个人登录后，系统会自动识别。

### Q5: 如果更改了微信昵称怎么办？
**A**: 
- 旧昵称的管理员权限会失效
- 需要让其他管理员重新添加新昵称
- 建议不要频繁更改昵称

### Q6: 如何移除管理员？
**A**: 
- 我的 → 店铺设置 → 管理厨房
- 选择厨房 → 管理员 → 查看管理员列表
- 找到要移除的管理员
- 点击删除

## 🎉 快速开始

### 第一次使用（家庭场景）

```
1. A（厨艺达人）：
   - 登录小程序
   - 自动成为管理员
   - 设置店铺信息
   - 添加菜谱分类
   - 添加菜谱

2. B（家人）：
   - 登录小程序
   - 告诉A自己的微信昵称
   - 等待A添加为管理员

3. A 添加B为管理员：
   - 店铺设置 → 管理厨房 → 管理员
   - 输入B的微信昵称
   - 确认添加

4. B 获得管理员权限：
   - 刷新或重新进入小程序
   - 现在可以管理菜谱和订单
```

### 日常使用

```
家人A（普通用户）：
1. 打开小程序
2. 浏览今天的菜谱
3. 选择想吃的菜
4. 加入购物车
5. 下单并备注："不要太辣"

家人B（管理员/厨师）：
1. 查看订单
2. 点击"接单"
3. 开始做饭
4. 完成后点击"出餐"
```

## 🔄 更换账号

如果需要换人使用：

```
1. 当前用户：我的 → 更换账号
2. 确认更换
3. 新用户授权登录
4. 完成切换
```

## 📊 权限对比

| 功能 | 普通用户 | 管理员 |
|------|---------|--------|
| 浏览菜谱 | ✅ | ✅ |
| 搜索菜谱 | ✅ | ✅ |
| 添加购物车 | ✅ | ✅ |
| 下单 | ✅ | ✅ |
| 查看订单 | ✅ | ✅ |
| 添加菜谱 | ❌ | ✅ |
| 编辑菜谱 | ❌ | ✅ |
| 删除菜谱 | ❌ | ✅ |
| 管理分类 | ❌ | ✅ |
| 接单/出餐 | ❌ | ✅ |
| 管理后台 | ❌ | ✅ |
| 添加管理员 | ❌ | ✅ |

## ✅ 使用建议

1. **及时登录**：打开小程序后尽快登录，解锁完整功能
2. **保持昵称**：不要频繁更改微信昵称
3. **明确权限**：清楚谁是管理员，谁是普通用户
4. **善用管理后台**：管理员使用专门的管理界面更高效
5. **定期备份**：使用"导出数据"功能备份菜谱和订单

## 🎨 界面提示

### 已登录（管理员）
- 个人中心显示：头像 + 昵称 + "👑 管理员"标识
- 首页有"添加菜谱"按钮
- 有"编辑"模式切换
- 可以看到"管理后台"入口

### 已登录（普通用户）
- 个人中心显示：头像 + 昵称
- 首页只有"点单"模式
- 看不到"管理后台"入口

### 未登录
- 个人中心显示："未登录" + "点击登录"按钮
- 主页底部提示："点击右下角「我的」登录后使用完整功能"
- 添加购物车时会提示登录

---

希望这份简化说明能帮助你快速上手！如有问题，请参考详细文档或联系开发者。
